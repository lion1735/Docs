### 배달의 민족 마이크로서비스 여행기

https://www.youtube.com/watch?v=BnS6343GTkY

- 2015년
    - 단일 서비스
    - 하루 주문수 5만 이하
    - MS SQL + PHP, ASP
    - 대부분 루비 DB 스토어드 프로시저 방식을 사용 → 장애시 전체 서비스 장애

- 2016년
    - 하루 주문수 10만 돌파
    - PHP → 자바
    - MSA 도전 → 트래픽을 초과하는 생존의 문제
    - 결제, 주문중계 독립
        - 결제가 장애가 나더라도 전화 주문이라도 할 수 있도록
    - IDC → AWS 클라우드 인프라로 이전
- 치킨 디도스
    - 선착순 천명 치킨 7천원 할인
    - 오후 5시 시작
    - Day1 : 프론트 서버 다운 → 프론트 서버 AWS로 이전
    - Day2 : 주문 서버 다운 → 주문 서버 AWS로 이전
    - Day3 : 외부 PG 장애 → 2배 장비 투입
    - Day4 : 이벤트 성공
- 2017년
    - 하루 주문수 20만 돌파
    - 대 장애의 시대
    - 메뉴, 정산, 가게 목록 시스템 독립
- 2018년 상반기
    - 전사 1순위 과제 : 시스템 안정성
    - N 광고 폭파 → 장애대응 TF 창설
        - 가게 상세 재개발(주요장애 포인트)
    - 쿠폰, 포인트 탈 루비 → 주문 테이블 통합
    - 오프라인 모드 적용
    - 회복 탄성 향상

- 2018년 12월 - 프로젝트 먼데이
    - 가게, 광고 데이터 분리
    - 조회용 쿼리 모델을 만듬
    - 서비스 전체를 CQRS 전환
        - 이벤트 전파 - 제로 페이로드
        - 주문하기 전에 데이터 동기화



>  MSA는 무조건 사용해야 하는 것이 아니라 많은 트래픽 많은 도메인 등의 프로젝트에 따라 달라질 수 있다.